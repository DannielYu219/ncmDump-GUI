# ncmdump GUI - macOS 图形界面工具

![Swift Version](https://img.shields.io/badge/Swift-3.0+-orange.svg) 
![Platform](https://img.shields.io/badge/macOS-11+-blue.svg)
![License](https://img.shields.io/badge/License-MIT-lightgrey.svg)

## 项目简介

这是一个为 `ncmdump` 命令行工具开发的 macOS 图形界面应用程序，使用 SwiftUI 框架构建。它提供了直观的用户界面来处理某易云音乐加密的 `.ncm` 音频文件。

## 主要功能

- ✅ 可视化选择输入文件或文件夹
- 📁 支持递归处理子文件夹
- 📂 可自定义输出目录
- 🔄 实时显示处理进度
- 📋 显示处理结果和错误信息

## 使用说明

### 基本使用

1. 点击"选择文件"或"选择文件夹"按钮选择输入
2. 如果是文件夹，可选择是否递归处理子文件夹
3. (可选)点击"选择"按钮指定输出目录
4. 点击"开始处理"按钮执行转换

### 高级选项

- **递归处理**：当选择文件夹时启用，会处理子文件夹中的文件
- **输出目录**：不指定时默认使用输入文件所在目录

## 技术实现

- 完全使用 SwiftUI 构建原生 macOS 应用
- 使用 `NSOpenPanel` 实现文件/文件夹选择
- 通过 `Process` 类调用 `ncmdump` 命令行工具
- 完善的沙盒权限和安全作用域管理

## 常见问题

### 文件选择器没有反应？

1. 检查系统设置 > 隐私与安全性 > 完全磁盘访问
2. 确保已授予应用或 Xcode 访问权限
3. 尝试重启应用

### 处理失败怎么办？

1. 检查错误消息中的具体原因
2. 确保输入文件是有效的 `.ncm` 文件
3. 确认输出目录有写入权限

## 开发说明

### 依赖项

- macOS 11.0 或更高版本
- Xcode 13 或更高版本
- `ncmdump` 可执行文件需包含在应用 bundle 中

### 构建步骤

1. 克隆仓库
2. 将 `ncmdump` 可执行文件添加到项目中
3. 在 Xcode 中构建并运行

## 许可证

MIT License - 自由使用和修改
